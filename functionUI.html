<head>
  <script src="functions.js"></script>
</head>

<body>
  <h1>Pick the algorithm you want to interact with!</h1>
  <select id="algorithmList">
    <option value = "triangle">triangle</option>
    <option value = "fibonacci">fibonacci</option>
    <option value = "countHi">countHi</option>
    <option value = "sumDigits">sumDigits</option>
    <option value="parenBit">parenBit</option>
    <option value="countPairs">countPairs</option>
    <option value="strCount">strCount</option>
    <option value="strCopies">strCopies</option>
  </select>
  <br>
  <button type="button" onclick="showParameters();">Choose Algorithm!</button>
  <div id="parameters"></div>
  <button type="button" onclick="showResult();" style="visibility:hidden" id="paramButton">
    Submit inputs!
  </button>
  <div id="results"></div>

  <script>

    function showParameters() {
      var alg = document.getElementById("algorithmList").value;
      var p = eval("params(" + alg + ")");
      var paramSpot = document.getElementById("parameters");
      paramSpot.innerHTML = "";
      for(let i=0; i < p.length; i++) {
        var info = document.createElement("p");
        info.innerHTML = "Enter " + p[i] + ":<br>";
        var inp = document.createElement("input");
        inp.setAttribute("type", "text");
        inp.setAttribute("id", p[i]);
        var bk = document.createElement("br");
        paramSpot.appendChild(info);
        paramSpot.appendChild(inp);
        paramSpot.appendChild(bk);
      }
      document.getElementById("paramButton").style.visibility = "visible";
      document.getElementById("results").innerHTML = "";
    }

    function showResult() {
      alg = document.getElementById("algorithmList").value;
      var p = eval("params(" + alg + ")");
      console.log("p",p);
      inputs = {};
      p.forEach(function(parameterName) {
        inputs[parameterName] = document.getElementById(parameterName).value;
      });
      inpStr = "";
      for(let key in inputs) {
        if(isNaN(inputs[key])) {
          inpStr += "\'" + inputs[key] + "\', ";
        }
        else {
          inpStr += inputs[key] + ", ";
        }
      }
      console.log(inpStr);
      inpStr = inpStr.substring(0,inpStr.length-1);
      result = eval(alg + "(" + inpStr + ");");
      document.getElementById("results").innerHTML = "";
      document.getElementById("results").innerHTML = result;
    }
  </script>
</body>
